# 作業範囲書（SOW）- 東証上場企業情報取得サービス

## プロジェクト概要
東証の適時開示情報サイトから上場企業の情報を自動取得するPythonプログラムの開発

### 参考情報
- 東証適時開示情報サイト: https://www2.jpx.co.jp/tseHpFront/JJK010010Action.do?Show
- 参考実装ブログ: https://www.quwechan.com/entry/2024/02/24/201255

## 作業範囲

### フェーズ1: 単一企業での検証（9984ソフトバンク）
1. セッション管理機能の実装
   - requests.Session()を使用したCookie管理
   - POSTリクエストによるページ遷移

2. データ取得機能の実装
   - 証券コード9984（ソフトバンク）での動作確認
   - 取得可能な情報の確認と抽出

3. 取得対象データ
   - 証券コード
   - 企業名
   - 市場区分（プライム/スタンダード/グロース）
   - 業種分類
   - その他取得可能な企業情報

### フェーズ2: バッチ処理の実装
1. codelist.csvからの証券コード読み込み機能
2. 複数企業の情報を順次取得する機能
3. エラーハンドリングとリトライ機能
4. 取得データの保存（CSV/JSON形式）

## 技術スタック
- Python 3.x
- 必要最小限のライブラリ
  - requests: HTTPリクエストとセッション管理
  - beautifulsoup4: HTML解析
  - lxml: パーサー（オプション）

## プロジェクト構造
```
jpx_kaiji_service/
├── src/
│   ├── __init__.py
│   ├── scraper.py        # メインのスクレイピング処理
│   ├── parser.py         # HTML解析とデータ抽出
│   └── models.py         # データモデル定義
├── data/                 # 取得したデータの保存先
├── codelist.csv          # 証券コードリスト（ユーザー提供）
├── requirements.txt      # 依存ライブラリ
└── main.py              # エントリーポイント
```

## 開発方針
- ポータブル性を重視し、必要最小限のライブラリで実装
- 1ステップごとに実装内容を相談・確認しながら進行
- テスト駆動での開発（まず9984で動作確認）

## 成果物
1. 単一企業情報取得スクリプト（テスト用）
2. バッチ処理スクリプト（本番用）
3. 取得データ（CSV/JSON形式）

## 留意事項
- Webスクレイピングのため、サイト構造の変更に影響を受ける可能性がある
- アクセス頻度に配慮し、適切な間隔を設ける
- robots.txtおよび利用規約を遵守する